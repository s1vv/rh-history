# rh-history

üìú –ó–∞–ø—É—Å–∫ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Ä–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏–∑ –ª—é–±–æ–π –ø–∞–ø–∫–∏.

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ —Å–∞–º—É –∫–æ–º–∞–Ω–¥—É –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥-—Ñ–∞–π–ª `~/.rh_history`, –ø–æ–∑–≤–æ–ª—è—è –ø–æ–∑–∂–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ –∏—Å–∫–∞—Ç—å, —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ `rh`. 
–ï—Å–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞–ª–∏ —Ñ–∞–π–ª –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä mc (mcedit) - –º–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —ç—Ç—É –∫–æ–º–∞–Ω–¥—É —á–µ—Ä–µ–∑ `rh` –∏ —Ñ–∞–π–ª –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã—Ç nano.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* –ó–∞–ø–∏—Å—å –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (—Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π).
* –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–∏—à–Ω–∏—Ö –∫–æ–º–∞–Ω–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `cd`, `clear`, `history` –∏ –¥—Ä.).
* –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä –∏ –ø–æ–≤—Ç–æ—Ä –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ [skim](https://github.com/lotabout/skim).
* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å shell'–æ–º: `bash`, `zsh`.

---

## –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### `mcedit` (–≤ `bin/`)

–°–∫—Ä–∏–ø—Ç-–æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ `nano`. –ï–≥–æ –∑–∞–¥–∞—á–∞:

* –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤—ã–∑–æ–≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –≤ –∏—Å—Ç–æ—Ä–∏–∏ (`~/.rh_history`);
* –∑–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`$EDITOR`).

```bash
#!/bin/bash
rh-log.sh "mcedit $1"
exec /usr/bin/nano "$@"
```

---

### `rh-log.sh` (–≤ `bin/`)

–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π `bash`-–ª–æ–≥–≥–µ—Ä, –≤—ã–∑—ã–≤–∞–µ–º—ã–π —á–µ—Ä–µ–∑ `PROMPT_COMMAND`:

* —É–¥–∞–ª—è–µ—Ç –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã;
* –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –ø–æ —Å–ø–∏—Å–∫—É (`cd`, `clear`, `exit`, `history`, –∏ –¥—Ä.);
* –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –∏ —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ `~/.rh_history`.

---

### `rh` (–±–∏–Ω–∞—Ä—å)

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –Ω–∞ Rust —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `skim`.

–ü–æ–∑–≤–æ–ª—è–µ—Ç:

* –æ—Ç–∫—Ä—ã—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∫–æ–º–∞–Ω–¥;
* –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—É—é –∫–æ–º–∞–Ω–¥—É;
* –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –µ—ë –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

* Rust (`cargo`, `rustc`)
* [skim](https://github.com/lotabout/skim) (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Ç–∏–ª–∏—Ç–æ–π `rh`)

### 2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

```bash
git clone https://github.com/s1vv/rh-history.git
cd rh-history
./install.sh
```

–°–∫—Ä–∏–ø—Ç:

* –∫–æ–ø–∏—Ä—É–µ—Ç `mcedit`, `rh-log.sh`, `rh` –≤ `~/bin`;
* –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ `~/.bashrc` (–∏–ª–∏ `~/.zshrc`) –Ω—É–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```bash
export PATH="$HOME/bin:$PATH"
export EDITOR=mcedit
export PROMPT_COMMAND='history -a; rh-log.sh "$(fc -ln -1)"'
```

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–†–∞–±–æ—Ç–∞–π—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∫–∞–∫ –æ–±—ã—á–Ω–æ.**
2. **–í–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è.**
3. **–î–ª—è –ø–æ–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥—ã:**

```bash
rh
```

–í—ã —É–≤–∏–¥–∏—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–ø–∏—Å–æ–∫ ‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é, –∏ –æ–Ω–∞ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞.

---

```bash
rh -h
```

–í—ã–≤–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å 9 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∫–æ–º–∞–Ω–¥.

---

```bash
rh -r 4
```

–ë—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–¥ –Ω–æ–º–µ—Ä–æ–º 4.

---

## –°–æ–≤–µ—Ç—ã

* –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `~/bin` –≤ –≤–∞—à–µ–º `$PATH`.
* –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥—Ä—É–≥–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, –∑–∞–º–µ–Ω–∏—Ç–µ `nano` –≤ `mcedit`.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ. –°–º. —Ñ–∞–π–ª `LICENSE`.

---
